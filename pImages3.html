<!DOCTYPE HTML>
<!--
	David Styven Nieto Marin
	Ingenieria de Sistemas | @dsnietom
	Universidad Nacional de Colombia
-->
<html>
	<head>
		<title>Procesamiento de Imagenes | :: Computación Visual ::</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		
		<!-- Code-Prettify -->
		<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
		
		<!-- P5.js -->
		<script src="p5/p5.min.js"></script>
		<script src="p5/addons/p5.sound.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"></script>
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/addons/p5.sound.min.js"></script> -->
		
		<!-- Bootstrap CSS 
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">-->
	
		<!-- Favicon -->
		<link rel="icon" href="images/favicon.png" sizes="32x32" type="image/png">

		
	</head>
	
	<body class="single is-preload">
	
	

		<!-- Wrapper -->
			<div id="wrapper">
			

				<!-- Header -->
					<header id="header">
						
						<nav class="links">
						
						<!-- Se crea un encabezado para insertar el html donde esta el menu-->
							<iframe src="menu.html" ></iframe>
							
						</nav>
						<nav class="main">
							<ul>
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>
								<li class="menu">
									<a class="fa-bars" href="#menu">Menu</a>
								</li>
							</ul>
						</nav>
					</header>

				<!-- Menu -->
					<section id="menu">

						<!-- Search -->
							<section>
							<h1><a href="index.html" target="_parent">Visual Computing</a></h1>
								<form class="search" method="get" action="#">
									<input type="text" name="query" placeholder="Search" />
								</form>
							</section>

						<!-- Links -->
							<section>
								<ul class="links">
									<li>
										<a href="images1.html" target="_parent">
											<h3>FIRST STEPS</h3>
											<p>Painting Backgrounds with Pixels</p>
										</a>
									</li>
									<li>
										<a href="images2.html" target="_parent">
											<h3>IMAGE PROCESSING WITH PIXELS</h3>
											<p>Load Images pixel by pixel</p>
										</a>
									</li>
									<li>
										<a href="images3.html" target="_parent">
											<h3>LANTERN</h3>
											<p>Alter the Brightness of an Image</p>
										</a>
									</li>
									<li>
										<a href="images4.html" target="_parent">
											<h3>BLACK AND WHITE</h3>
											<p>Gray filter modifying lightness</p>
										</a>
									</li>
									<li>
										<a href="images5.html" target="_parent">
											<h3>COMPLEMENTARY COLORS</h3>
											<p>createGraphics two Canvases in One</p>
										</a>
									</li>
									<li>
										<a href="images6.html" target="_parent">
											<h3>POINTILLISM</h3>
											<p>Fill Ellipses with the Color of a Pixel</p>
										</a>
									</li>
								</ul>
							</section>

						<!-- Actions -->
							<section>
								<ul class="actions stacked">
									<li><a href="#" class="button large fit">Log In</a></li>
								</ul>
							</section>

					</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2><a href="http://www.mywonderland.es/curso_js/processing/pro_ejemplos.html" target="_blank">Image to ASCII</a></h2>
										<p>Change Pixels for Characters</p>
									</div>
									<div class="meta">
										<time class="published" datetime="2015-11-01">April 30, 2020</time>
										<a href="https://dsnietom.github.io/myPageIngSoft/" target="_blank" class="author"><span class="name">David Nieto</span><img src="images/avatar.jpg" alt="dsnietom" /></a>
										
									</div>
								</header>
								<p>Los siguientes ejemplos tienen el propósito de desarrollar y practicar la transición entre el lenguaje Processing y el lenguaje p5.js observando sus principales diferencias, ya que ambos lenguajes se ven muy similar, y cómo convertir de uno a otro.</p>
								
								<p>Este programa esta basado en un sketch básico realizado por el sitio web <a href="http://www.mywonderland.es/curso_js/processing/pro_ejemplos.html" target="_blank">mywonderland.es</a>, en el lenguaje Processing, con el fin de observar un ejemplo en el que se utilizan las funciones 'mouseX, mouseY'. Crea una ventana con un ancho de 600px y una altura de 400px, y luego empieza a dibujar un cuadrado azul de 50px por 50px según la posición del mouse, al mismo tiempo que el fondo de la ventana se va rellenando de color gris, dando la ilusión que solo existe un cuadrado azul moviéndose por toda la ventana siguiendo al mouse.</p>
								
								<hr />
								<h3>Comandos por teclado</h3>
								<div class="table-wrapper text-center">
									<table class="alt">
										<thead>
											<tr>
												<th>ASCII</th>
												<th>Caracteres a Color</th>
												<th>Bordes a Color</th>
												<th>Repintado</th>
												<th>Transición Horizontal</th>
												<th>Transición Diagonal</th>
												<th>Imagen Original</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td><img src="images/ascii/img1.png" style="width:130px;vertical-align: middle"/></td>
												<td><img src="images/ascii/img2.png" style="width:130px;vertical-align: middle"/></td>
												<td><img src="images/ascii/img3.png" style="width:130px;vertical-align: middle"/></td>
												<td><img src="images/ascii/img4.png" style="width:130px;vertical-align: middle"/></td>
												<td><img src="images/ascii/img5.png" style="width:130px;vertical-align: middle"/></td>
												<td><img src="images/ascii/img6.png" style="width:130px;vertical-align: middle"/></td>
												<td><img src="images/ascii/img0.png" style="width:130px;vertical-align: middle"/></td>
											</tr>
											<tr>
												<td><img src="images/keyboard/1.png" style="width:40px;vertical-align: middle"/></td>
												<td><img src="images/keyboard/2.png" style="width:40px;vertical-align: middle"/></td>
												<td><img src="images/keyboard/3.png" style="width:40px;vertical-align: middle"/></td>
												<td><img src="images/keyboard/4.png" style="width:40px;vertical-align: middle"/></td>
												<td><img src="images/keyboard/5.png" style="width:40px;vertical-align: middle"/></td>
												<td><img src="images/keyboard/6.png" style="width:40px;vertical-align: middle"/></td>
												<td><img src="images/keyboard/0.png" style="width:40px;vertical-align: middle"/></td>
											</tr>
											
										</tbody>
										
									</table>
								</div>
								
								<div class="canvasp5js" >
									<div>
									<div id="asciiImg">
									
									</div>
																										
								</div>
								<blockquote>
									<div class="table-wrapper text-center">
										<table>
											<thead>
												<tr>
													<th>Tecla</th>
													<th>Descripción</th>
													<th>Imagen</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td><img src="images/keyboard/a.png" style="width:40px;vertical-align: middle"/></td>
													<td>Image of Ramphastos sulfuratus, also known as Sulfur-Breasted Toucan or Rainbow-Billed Toucan. Source: Wikipedia, the free encyclopedia. <p><strong>Keel-billed toucan at Parque Municipal Summit, Panama</strong></p></td>													
													<td><img src="images/ascii/imgA.png" style="width:150px;vertical-align: middle"/></td>
												</tr>
												<tr>
													<td><img src="images/keyboard/b.png" style="width:40px;vertical-align: middle"/></td>
													<td>Image of Peacock Spiders Maratus volans, is a species in the jumping spider family (Salticidae). Source: Wikipedia, the free encyclopedia. <p><strong>A reduced-resolution but still truly exceptional image of a male Maratus volans Peacock Spider</strong></p></td>
													<td><img src="images/ascii/imgB.png" style="width:150px;vertical-align: middle"/></td>
												</tr>
												<tr>
													<td><img src="images/keyboard/c.png" style="width:40px;vertical-align: middle"/></td>
													<td>Image of  Mantis shrimp species Odontodactylus Scyllarus. Source: Wikipedia, the free encyclopedia. <p><strong>Closeup of a stomatopod crustacean (mantis shrimp) Odontodactylus scyllarus</strong></p></td>
													<td><img src="images/ascii/imgC.png" style="width:150px;vertical-align: middle"/></td>
												</tr>
												<tr>
													<td><img src="images/keyboard/d.png" style="width:40px;vertical-align: middle"/></td>
													<td>Image of Golden Snub-Nosed Monkey (Rhinopithecus roxellana) is an Old World monkey. Source: Wikipedia, the free encyclopedia. <p><strong>Rhinopithecus roxellana, Female and male in Shanghai Zoo</strong></p></td>
													<td><img src="images/ascii/imgD.png" style="width:150px;vertical-align: middle"/></td>
												</tr>	
											</tbody>
										</table>
									</div>
									
									
									
									
								
								</blockquote>
								</div>
								<p></p>
								<h4>p5*js Code</h4>
									<pre><code class="prettyprint">let img;
let img2;
	
// Resolucion: los colores se muestran cada n pixeles
let resolution = 6;
let repaint = 0; // Controla la cantidad de veces que se ejecuta asciify();
let intensity = 1; // Validacion del modo de pintado de los caracteres
	
// Contiene los caracteres que van a reemplazar cada pixel
let ascii=[];
let link='https://upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Keel-billed_toucan.jpg/466px-Keel-billed_toucan.jpg';
	

function preload() {
	img = loadImage(link);
	img2 = loadImage(link);
}
function setup() {    
	createCanvas(466, 600);
	background(255);
	fill(0);
	noStroke();
	
	// Construye una matriz de caracteres que corresponda a los valores del brillo
	let letters = "@&$o%#*+=-':. ";
	for (let i = 0; i &lt 256; i++) {
		let index = int(map(i, 0, 256, 0, letters.length));
		ascii[i] = letters.charAt(index);
	}
	let mono = textFont("Georgia", resolution + 2);
	textFont(mono);
}

function draw(){
	if (repaint &lt 1){
		asciify();
		repaint += 1;
	}
}
	
function asciify() {
	// Se convierte la imagen a escala de grises para que sea mas preciso calcular el brillo
	img.filter(GRAY);
	img.loadPixels();
	img2.loadPixels();
	
	// Se recorre cada pixel de la imagen
	for (let y = 0; y &lt img.height; y += resolution) {
	for (let x = 0; x &lt img.width; x += resolution) {
		
		let index = (x+y*width)*4; // Posicion del pixel
		let r=img.pixels[index+0]; // Componente Red
		let g=img.pixels[index+1]; // Componente Green
		let b=img.pixels[index+2]; // Componente Blue
		let a=img.pixels[index+3]; // Componente Alpha
		// Componenetes sin modificaciones
		let R=img2.pixels[index+0]; // Componente Red
		let G=img2.pixels[index+1]; // Componente Green
		let B=img2.pixels[index+2]; // Componente Blue
		let A=img2.pixels[index+3]; // Componente Alpha
	
		asciiPaint(R,G,B,A,x,y); // Color de los caracteres
		// Toma el color del n-simo pixel y lo reemplza con el caracter de brillo similar
		text(ascii[int(brightness(color(r,g,b,a)))], x, y); // Dibuja los caracteres
		}
	}
}

// Se ejecuta cuando se presiona cualquier tecla
function keyPressed() {
	if (key === '0') { // Imagen original
		resetCanvas(width,height);
		image(img2,0,0);
	} else if (key === '1') { // Caracteres en negro
		intensity=1;
		resetCanvas(width,height);
	} else if (key === '2') { // Caracteres a color
		intensity=2;
		resetCanvas(width,height);
	} else if (key === '3') { // Borde caracteres a color
		intensity=3;
		resetCanvas(width,height);
	} else if (key === '4') { // Repintar caracteres en el lienzo
		intensity=4;
		resetCanvas(width,height);
	} else if (key === '5') { // Repintado horizontal 
		intensity=5;
		resetCanvas(width,height);
		repaint=-1;
	} else if (key === '6') { // Repintado diagonal 
		intensity=6;
		resetCanvas(width,height);
		repaint=-1;
	} 
}
// Resetea el lienzo y el contador de pintado
function resetCanvas(w,h){
	resizeCanvas(0, 0);
	resizeCanvas(w, h);
	repaint=0;
}
// Define el color de los caracteres ASCII
function asciiPaint(R,G,B,A,x,y){
	if (intensity===1){
		fill(0);
		noStroke();
	} else if (intensity===2){
		fill(R,G,B,A);
		noStroke();
	} else if (intensity===3){
		fill(R,G,B,A);
		stroke(R,G,B,A);
	} else if (intensity===4){
		fill(R,G,B,A);
		stroke(R,G,B,A);
		repaint=-10;
	} else if (intensity===5){
		if (x>floor(width/3)){
			fill(R,G,B,A);
		} else {
			fill(0);
		}
		if(x>floor(width/3)*2){
			stroke(R,G,B,A);
		} else {
			noStroke();
		}
	} else if (intensity===6){
		if (x/2+y*2>floor((width+height)/3)){
			fill(R,G,B,A);
		} else {
			fill(0);
		}
		if(x*2+y/2>floor((width+height)/3)*2){
			stroke(R,G,B,A);
		} else {
			noStroke();
		}
	}
}</code></pre>
								
								<p></p>
								
								<!-- Pagination -->
							<ul class="actions pagination">
								<li><a href="pImages2.html" target="_parent" class="button large previous">Previous Page</a></li>
								<li><a href="pImages4.html" target="_parent" class="button large next">Next Page</a></li>
							</ul>
							
							<!-- Footer 
								<footer>
									<ul class="stats">
										<li><a href="#">General</a></li>
										<li><a href="#" class="icon solid fa-heart">28</a></li>
										<li><a href="#" class="icon solid fa-comment">128</a></li>
									</ul>
								</footer>-->
								
							</article>

					</div>

				<!-- Footer -->
					<section id="footer">
					<!-- Se crea un iframe para insertar el html donde esta el pie de pagina-->
						<footer>
							<iframe id="iframepie" src="footer.html"></iframe>
						</footer>
						
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			
		<!-- Ejemplos P5.js -->
			<script src="p5/js/images/asciiImg.js"></script>

			
		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
			<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
			<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

	</body>
</html>